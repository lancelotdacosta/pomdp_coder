```python
def transition_func(state: MinigridState, action: int) -> MinigridState:
    """
    Args:
        state (MinigridState): the state of the environment 
        action (int): action to be taken in state `state`
    Returns:
        new_state (MinigridState): the new state of the environment
    """
    def move_forward(pos, dir):
        return (pos[0] + DIR_TO_VEC[dir][0], pos[1] + DIR_TO_VEC[dir][1])

    def is_wall(pos, grid):
        return grid[pos] == ObjectTypes.wall

    def is_out_of_bounds(pos, grid):
        return pos[0] < 0 or pos[0] >= grid.shape[0] or pos[1] < 0 or pos[1] >= grid.shape[1]

    new_agent_pos = state.agent_pos
    new_agent_dir = state.agent_dir
    new_carrying = state.carrying

    if action == Actions.left:
        new_agent_dir = (new_agent_dir - 1) % 4
    elif action == Actions.right:
        new_agent_dir = (new_agent_dir + 1) % 4
    elif action == Actions.forward:
        new_agent_pos = move_forward(state.agent_pos, state.agent_dir)
        if is_wall(new_agent_pos, state.grid) or is_out_of_bounds(new_agent_pos, state.grid):
            new_agent_pos = state.agent_pos
    elif action == Actions.pickup:
        front_pos = state.front_pos
        if not is_out_of_bounds(front_pos, state.grid) and state.grid[front_pos] in [ObjectTypes.key, ObjectTypes.ball, ObjectTypes.box]:
            new_carrying = state.grid[front_pos]
            state.grid[front_pos] = ObjectTypes.empty
    elif action == Actions.drop:
        if new_carrying is not None:
            front_pos = state.front_pos
            if not is_out_of_bounds(front_pos, state.grid) and state.grid[front_pos] == ObjectTypes.empty:
                state.grid[front_pos] = new_carrying
                new_carrying = None
    elif action == Actions.toggle:
        front_pos = state.front_pos
        if not is_out_of_bounds(front_pos, state.grid):
            obj_type = state.grid[front_pos]
            if obj_type == ObjectTypes.closed_door:
                state.grid[front_pos] = ObjectTypes.open_door
            elif obj_type == ObjectTypes.open_door:
                state.grid[front_pos] = ObjectTypes.closed_door
    elif action == Actions.done:
        pass  # No-op

    new_state = MinigridState(
        grid=state.grid.copy(),
        agent_pos=new_agent_pos,
        agent_dir=new_agent_dir,
        carrying=new_carrying
    )
    return new_state
```