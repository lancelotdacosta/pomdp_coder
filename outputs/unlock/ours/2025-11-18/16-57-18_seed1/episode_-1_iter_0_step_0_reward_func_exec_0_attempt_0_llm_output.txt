```python
def reward_func(state, action, next_state):
    """
    Args:
        state (MinigridState): the state of the environment
        action (int): the action to be executed
        next_state (MinigridState): the next state of the environment
    Returns:
        reward (float): the reward of that state
        done (bool): whether the episode is done
    """
    
    def is_goal_reached(state):
        # Check if the agent is on the goal square
        return state.grid[state.agent_pos] == ObjectTypes.goal

    def is_agent_carrying_key(state):
        # Check if the agent is carrying a key
        return state.carrying == ObjectTypes.key

    def is_agent_in_front_of_locked_door(state):
        # Check if the agent is in front of a locked door
        front_pos = state.front_pos
        return 0 <= front_pos[0] < state.grid.shape[0] and \
               0 <= front_pos[1] < state.grid.shape[1] and \
               state.grid[front_pos] == ObjectTypes.locked_door

    reward = 0
    done = False

    # Check if the goal is reached
    if is_goal_reached(next_state):
        reward = 1
        done = True
    else:
        # Check if the agent picked up the key
        if action == Actions.pickup and next_state.carrying == ObjectTypes.key and state.carrying is None:
            reward = 0.1

        # Check if the agent toggled (unlocked) a locked door while carrying a key
        if action == Actions.toggle and is_agent_in_front_of_locked_door(state) and is_agent_carrying_key(state):
            reward = 0.1

    return reward, done
```