```python
def transition_func(state, action):
    """
    Args:
        state (MinigridState): the state of the environment 
        action (int): action to be taken in state `state`
    Returns:
        new_state (MinigridState): the new state of the environment
    """
    
    def move_forward(state):
        new_pos = np.array(state.agent_pos) + np.array(DIR_TO_VEC[state.agent_dir])
        if 0 <= new_pos[0] < state.width and 0 <= new_pos[1] < state.height and state.grid[tuple(new_pos)] != ObjectTypes.wall:
            return MinigridState(
                grid=state.grid.copy(),
                agent_pos=tuple(new_pos),
                agent_dir=state.agent_dir,
                carrying=state.carrying,
            )
        else:
            return state

    def turn_left(state):
        new_dir = (state.agent_dir - 1) % 4
        return MinigridState(
            grid=state.grid.copy(),
            agent_pos=state.agent_pos,
            agent_dir=new_dir,
            carrying=state.carrying,
        )

    def turn_right(state):
        new_dir = (state.agent_dir + 1) % 4
        return MinigridState(
            grid=state.grid.copy(),
            agent_pos=state.agent_pos,
            agent_dir=new_dir,
            carrying=state.carrying,
        )

    def pick_up_object(state):
        front_pos = state.front_pos
        if state.grid[front_pos] in [ObjectTypes.key, ObjectTypes.ball, ObjectTypes.box]:
            new_grid = state.grid.copy()
            new_grid[front_pos] = ObjectTypes.empty
            return MinigridState(
                grid=new_grid,
                agent_pos=state.agent_pos,
                agent_dir=state.agent_dir,
                carrying=state.grid[front_pos],
            )
        else:
            return state

    def drop_object(state):
        front_pos = state.front_pos
        if state.carrying is not None and state.grid[front_pos] == ObjectTypes.empty:
            new_grid = state.grid.copy()
            new_grid[front_pos] = state.carrying
            return MinigridState(
                grid=new_grid,
                agent_pos=state.agent_pos,
                agent_dir=state.agent_dir,
                carrying=None,
            )
        else:
            return state

    def toggle_object(state):
        front_pos = state.front_pos
        if state.grid[front_pos] in [ObjectTypes.closed_door, ObjectTypes.open_door]:
            new_type = (
                ObjectTypes.open_door
                if state.grid[front_pos] == ObjectTypes.closed_door
                else ObjectTypes.closed_door
            )
            new_grid = state.grid.copy()
            new_grid[front_pos] = new_type
            return MinigridState(
                grid=new_grid,
                agent_pos=state.agent_pos,
                agent_dir=state.agent_dir,
                carrying=state.carrying,
            )
        else:
            return state

    def done_action(state):
        return state

    action_functions = {
        Actions.left: turn_left,
        Actions.right: turn_right,
        Actions.forward: move_forward,
        Actions.pickup: pick_up_object,
        Actions.drop: drop_object,
        Actions.toggle: toggle_object,
        Actions.done: done_action,
    }

    return action_functions[action](state)
```