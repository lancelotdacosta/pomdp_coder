```python
def observation_func(state, action, empty_obs):
    """
    Args:
        state (MinigridState): the state of the environment
        action (int): the previous action that was taken
        empty_obs (MinigridObservation): an empty observation that needs to be filled and returned
    Returns:
        obs (MinigridObservation): observation of the agent
    """
    
    def rotate_array(arr, rotations):
        """Rotate the array clockwise by the given number of rotations."""
        for _ in range(rotations):
            arr = np.rot90(arr, k=3)  # Rotate 90 degrees clockwise
        return arr

    # Define the field of view size (3x3 grid)
    view_size = 3

    # Get the agent's current position and direction
    agent_pos = state.agent_pos
    agent_dir = state.agent_dir

    # Compute the field of view based on the agent's position and direction
    fov = state.get_field_of_view(view_size)

    # Rotate the field of view to match the agent's perspective
    fov = rotate_array(fov, agent_dir)

    # Update the empty observation with the computed values
    empty_obs.image = fov
    empty_obs.agent_pos = agent_pos
    empty_obs.agent_dir = agent_dir
    empty_obs.carrying = state.carrying

    return empty_obs
```